/**
 * This file contains an AMD/jQuery module to expand and collapse course rubrics.
 *
 * @package    block_filtered_course_list
 * @copyright  2016 CLAMP
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("block_filtered_course_list/accordion",["jquery","block_filtered_course_list/cookie"],function($,cookie){function collapseRubric(rubric,persist){$(rubric).removeClass("block-fcl__rubric--expanded"),$(rubric).addClass("block-fcl__rubric--collapsed"),$(rubric).attr("aria-expanded","false"),$(rubric).next().attr("aria-hidden","true"),1==persist&&cookie.set(rubric.dataset.hash,"collapsed")}return{init:function(params){var blockid=params.blockid;$("#"+blockid+" .block-fcl__rubric").each(function(){var state=cookie.get(this.dataset.hash);$(this).hasClass("block-fcl__rubric--expanded")||state&&"collapsed"!=state||collapseRubric(this,params.persist),$(this).wrapInner(document.createElement("a")),$(this).find("a").attr("href","#"),$(this).on("click",function(event){var rubric,persist;event.preventDefault(),$(".block-fcl__rubric").each(function(){$(this).attr("aria-selected","false")}),$(this).attr("aria-selected","true"),$(this).hasClass("block-fcl__rubric--collapsed")?(rubric=this,persist=params.persist,$(rubric).removeClass("block-fcl__rubric--collapsed"),$(rubric).addClass("block-fcl__rubric--expanded"),$(rubric).attr("aria-expanded","true"),$(rubric).next().attr("aria-hidden","false"),1==persist&&cookie.set(rubric.dataset.hash,"expanded")):$(this).hasClass("block-fcl__rubric--expanded")&&collapseRubric(this,params.persist)})})}}});

//# sourceMappingURL=accordion.min.js.map